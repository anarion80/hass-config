modbus:
  - name: komfovent
    type: tcp
    host: 192.168.2.49
    port: 502

    switches:
      - name: "Komfovent Switch Power"
        # slave: 1
        address: 0
        command_on: 1
        command_off: 0
        verify:
      - name: "Komfovent Switch Eco"
        # slave: 1
        address: 2
        command_on: 1
        command_off: 0
        verify:
      - name: "Komfovent Switch Auto"
        address: 3
        command_on: 1
        command_off: 0
        verify:
      # Logic
      # Away,Intensive or Boost off, switch to Normal
      # Switch Normal Off go to Away
      - name: "Komfovent Switch Away"
        # slave: 2
        address: 4
        command_on: 1
        command_off: 2
        verify:
      - name: "Komfovent Switch Normal"
        # slave: 2
        address: 4
        command_on: 2
        command_off: 1
        verify:
      - name: "Komfovent Switch Intensive"
        # slave: 2
        address: 4
        command_on: 3
        command_off: 2
        verify:
      - name: "Komfovent Switch Boost"
        # slave: 2
        address: 4
        command_on: 4
        command_off: 2
        verify:
      - name: "Komfovent Switch Kitchen"
        # slave: 2
        address: 4
        command_on: 5
        command_off: 2
        verify:

    sensors:
      - name: "Komfovent on off num"
        address: 0
        input_type: holding
        data_type: uint16
        scan_interval: 5
        # unique_id: kom_s_power
      - name: "Komfovent Eco num"
        address: 2
        input_type: holding
        data_type: uint16
        # unique_id: kom_s_eco
      - name: "Komfovent Auto num"
        address: 3
        input_type: holding
        data_type: uint16
        # unique_id: kom_s_auto
      - name: "Komfovent Mode num"
        address: 4
        input_type: holding
        data_type: uint16
        scan_interval: 5
        # unique_id: kom_s_mode
      - name: "Komfovent Scheduler num"
        address: 5
        input_type: holding
        data_type: uint16
        # unique_id: kom_s_sched
      - name: "Komfovent Control Indoor Humidity %"
        address: 40
        input_type: holding
        data_type: int16
        unit_of_measurement: '%'
        scan_interval: 30
      - name: "Komfovent Status Normal Fan Supply Setpoint"
        address: 105
        input_type: holding
        data_type: uint32
        unit_of_measurement: '%'
        # device_class: temperature
        state_class: measurement
        scan_interval: 5
      - name: "Komfovent Status Normal Fan Extract Setpoint"
        address: 107
        input_type: holding
        data_type: uint32
        unit_of_measurement: '%'
        # device_class: temperature
        state_class: measurement
        scan_interval: 5
      - name: "Komfovent Status Normal Setpoint C"
        address: 109
        input_type: holding
        data_type: int16
        unit_of_measurement: °C
        scale: 0.1
        precision: 1
        device_class: temperature
        state_class: measurement
        scan_interval: 5
      - name: "Komfovent Supply temperature 'C"
        address: 901
        input_type: holding
        data_type: int16
        unit_of_measurement: °C
        scale: 0.1
        precision: 1
        device_class: temperature
        state_class: measurement
        scan_interval: 10
        # unique_id: kom_m_sup_temp
      - name: "Komfovent Extract temperature 'C"
        address: 902
        input_type: holding
        data_type: int16
        scale: 0.1
        unit_of_measurement: °C
        precision: 1
        device_class: temperature
        state_class: measurement
        scan_interval: 10
        # unique_id: kom_m_extract_temp
      - name: "Komfovent Outdoor temperature 'C"
        address: 903
        input_type: holding
        data_type: int16
        scale: 0.1
        unit_of_measurement: °C
        precision: 1
        device_class: temperature
        state_class: measurement
        scan_interval: 10
      - name: "Komfovent Supply Flow volume"
        address: 905
        count: 2
        data_type: uint32
        input_type: holding
        precision: 0
        unit_of_measurement: '%'
        scan_interval: 10
      - name: "Komfovent Extract Flow volume"
        address: 907
        count: 2
        data_type: uint32
        input_type: holding
        precision: 0
        unit_of_measurement: '%'
        scan_interval: 10
      - name: "Komfovent Supply Fan Intensivity '%"
        address: 909
        data_type: uint16
        input_type: holding
        scale: 0.1
        precision: 1
        unit_of_measurement: '%'
        state_class: measurement
        scan_interval: 30
      - name: "Komfovent Extract Fan Intensivity '%"
        address: 910
        data_type: uint16
        input_type: holding
        scale: 0.1
        precision: 1
        unit_of_measurement: '%'
        state_class: measurement
        scan_interval: 30
      - name: "Komfovent Electric Heater %"
        address: 912
        data_type: uint16
        input_type: holding
        scale: 0.1
        precision: 1
        unit_of_measurement: '%'
        state_class: measurement
        scan_interval: 10
      - name: "Komfovent Filter Impurity, %"
        address: 916
        data_type: uint16
        input_type: holding
        unit_of_measurement: '%'
        state_class: measurement
        scan_interval: 60
      # - name: "Komfovent Supply Pressure"
      #   address: 918
      #   data_type: uint16
      #   input_type: holding
      #   unit_of_measurement: Pa
      #   state_class: measurement
      #   scan_interval: 10
      - name: "Komfovent Status"
        address: 899
        data_type: uint16
        input_type: holding
        scan_interval: 10
      - name: "Komfovent Power consumption, W"
        address: 920
        data_type: uint16
        input_type: holding
        unit_of_measurement: W
        device_class: power
        state_class: measurement
        scan_interval: 10
      - name: "Komfovent Heater Power, W"
        address: 921
        data_type: uint16
        input_type: holding
        unit_of_measurement: W
        device_class: power
        state_class: measurement
        scan_interval: 30
      - name: "Komfovent Heat Recovery, W"
        address: 922
        data_type: uint16
        input_type: holding
        unit_of_measurement: W
        device_class: power
        state_class: measurement
        scan_interval: 10
      - name: "Komfovent Heat exchanger efficiency, %"
        address: 923
        data_type: uint16
        input_type: holding
        unit_of_measurement: '%'
        state_class: measurement
        scan_interval: 10
      - name: "Komfovent Energy saving, %"
        address: 924
        data_type: uint16
        input_type: holding
        unit_of_measurement: '%'
        state_class: measurement
        scan_interval: 10
      - name: "Komfovent Specific power (SPI)"
        address: 925
        data_type: uint16
        input_type: holding
        scale: 0.001
        precision: 2
        unit_of_measurement: W/(m3/h)
        state_class: measurement
        scan_interval: 10
  #Consumption
      - name: "Komfovent AHU Consumption Day, kWh"
        address: 926
        data_type: uint32
        input_type: holding
        count: 2
        precision: 2
        scale: 0.001
        unit_of_measurement: kWh
        device_class: energy
        state_class: total_increasing
        scan_interval: 30
      - name: "Komfovent AHU Consumption Month, kWh"
        address: 928
        data_type: uint32
        input_type: holding
        count: 2
        precision: 2
        scale: 0.001
        unit_of_measurement: kWh
        device_class: energy
        state_class: total_increasing
        scan_interval: 30
      - name: "Komfovent AHU Consumption Total, kWh"
        address: 930
        data_type: uint32
        input_type: holding
        count: 2
        precision: 2
        scale: 0.001
        unit_of_measurement: kWh
        device_class: energy
        state_class: total_increasing
        scan_interval: 30
      - name: "Komfovent Heater Consumption Day, kWh"
        address: 932
        data_type: uint32
        input_type: holding
        count: 2
        precision: 2
        scale: 0.001
        unit_of_measurement: kWh
        device_class: energy
        state_class: total_increasing
        scan_interval: 30
      - name: "Komfovent Heater Consumption Month, kWh"
        address: 934
        data_type: uint32
        input_type: holding
        count: 2
        precision: 2
        scale: 0.001
        unit_of_measurement: kWh
        device_class: energy
        state_class: total_increasing
        scan_interval: 30
      - name: "Komfovent Heater Consumption Total, kWh"
        address: 936
        data_type: uint32
        input_type: holding
        count: 2
        precision: 2
        scale: 0.001
        unit_of_measurement: kWh
        device_class: energy
        state_class: total_increasing
        scan_interval: 30
      - name: "Komfovent Heating Recovery Day, kWh"
        address: 938
        data_type: uint32
        input_type: holding
        count: 2
        precision: 2
        scale: 0.001
        unit_of_measurement: kWh
        device_class: energy
        state_class: total_increasing
        scan_interval: 30
      - name: "Komfovent Heating Recovery Month, kWh"
        address: 940
        data_type: uint32
        input_type: holding
        count: 2
        precision: 2
        scale: 0.001
        unit_of_measurement: kWh
        device_class: energy
        state_class: total_increasing
        scan_interval: 30
      - name: "Komfovent Heating Recovery Total, kWh"
        address: 942
        data_type: uint32
        input_type: holding
        count: 2
        precision: 2
        scale: 0.001
        unit_of_measurement: kWh
        device_class: energy
        state_class: total_increasing
        scan_interval: 30
      - name: "Komfovent Status Panel Temperature"
        address: 948
        input_type: holding
        data_type: int16
        scale: 0.1
        unit_of_measurement: °C
        precision: 1
        device_class: temperature
        state_class: measurement
        scan_interval: 10
      - name: "Komfovent Status Panel Humidity"
        address: 949
        input_type: holding
        data_type: int16
        unit_of_measurement: '%'
        device_class: humidity
        state_class: measurement
        scan_interval: 10
