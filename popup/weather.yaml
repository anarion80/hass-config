action: fire-dom-event
browser_mod:
  command: popup
  title: Pogoda
  style:
    .: |
      :host .content {
        width: calc(540px + 489px);
        max-width: 90vw;
        margin: 0 !important;
      }
  card:
    type: custom:layout-card
    layout_type: custom:grid-layout
    layout:
      margin: 0
      grid-template-columns: repeat(2, 1fr)
      grid-template-rows: 1fr
      grid-template-areas: |
        "meteo other"
      mediaquery:
        #phone
        "(max-width: 800px)":
          grid-template-columns: 1fr
          grid-template-rows: repeat(2, 1fr)
          grid-template-areas: |
            "meteo"
            "other"
    cards:

      #################################################
      #                                               #
      #                      METEO                    #
      #                                               #
      #################################################
      - type: custom:config-template-card
        view_layout:
          grid-area: meteo
        entities:
          - sensor.meteo_url
        card:
          type: picture
          entity: sensor.meteo_url
          image: ${states['sensor.meteo_url'].state}

      # - type: entities
        # view_layout:
          # grid-area: hass
        # title: Home Assistant
        # show_header_toggle: false
        # style: &border |
          # ha-card {
            # border-radius: 0;
            # animation: ha-card 1s forwards;
          # }

          # @keyframes ha-card {
            # 0%, 100% {
                # border-right: 1.5px solid rgba(0, 0, 0, 0.2);
            # }
          # }

          # /* phone */
          # @media screen and (max-width: 800px) {
            # ha-card {
                # border-bottom: 1.5px solid rgba(0, 0, 0, 0.2);
                # padding-right: 0;
                # animation: none;
            # }
          # }
        # entities:
          # - entity: sensor.hass_version

          # #- entity: switch.watchtower

          # - entity: sensor.hass_dev_release

          # #- entity: sensor.database

          # - entity: sensor.home_assistant_log_size

          # - entity: sensor.ha_uptime

          # - type: custom:bar-card
            # width: 55%
            # height: 2em
            # decimal: 0
            # unit_of_measurement: '%'
            # positions: &bar_card_positions
              # icon: outside
              # indicator: 'off'
              # name: outside
            # severity: &bar_card_severity
              # - color: '#303435'
                # from: 0
                # to: 89
              # - color: '#6d2525'
                # from: 90
                # to: 200
            # entity_row: true
            # entities:

              # - entity: sensor.processor_use_percent
                # tap_action:
                  # action: call-service
                  # service: homeassistant.update_entity
                  # service_data:
                    # entity_id: sensor.processor_use_percent

              # - entity: sensor.memory_use_percent
                # tap_action:
                  # action: call-service
                  # service: homeassistant.update_entity
                  # service_data:
                    # entity_id: sensor.memory_use_percent

          # - type: custom:hui-element
            # card_type: horizontal-stack
            # style: &horizontal-style |
              # #root {
                # justify-content: space-evenly;
                # margin-top: 2em;
                # margin-left: 1em;
              # }
            # cards:
              # - type: custom:button-card
                # name: Home Assistant
                # icon: mdi:reload
                # tap_action:
                  # services: |
                    # [[[
                      # hass.callService('browser_mod', 'toast', {
                        # message: 'Restarting Home Assistant...'
                      # });
                      # hass.callService('homeassistant', 'restart');
                    # ]]]
                # template: icon_name

              # - type: custom:button-card
                # name: Container
                # icon: mdi:reload
                # tap_action:
                  # action: call-service
                  # service: homeassistant.restart
                  # service_data:
                    # entity_id: script.homeassistant_restart
                # template: icon_name

      #################################################
      #                                               #
      #                      OTHER                    #
      #                                               #
      #################################################

      - type: vertical-stack
        view_layout:
          grid-area: other
        cards:
          - type: custom:weather-chart-card
            title: Pogoda
            entity: weather.openweathermap
            #mode: daily
          - type: custom:auto-entities
            card:
              type: entities
            filter:
              include:
                - entity_id: '*antistorm*'
              exclude: []
            sort:
              method: none
          # - type: custom:auto-entities
          #   card:
          #     type: entities
          #   filter:
          #     include:
          #       - entity_id: '*.*airly*'
          #     exclude: []
          #   sort:
          #     method: none
          #   view_layout:
          #     grid-area: doors
          #   title: Airly
          #   show_header_toggle: false
