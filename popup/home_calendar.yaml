action: fire-dom-event
browser_mod:
  command: popup
  title: Calendar
  style: 
    .: | 
      img {
      border-radius: 50%;
      width: 120px;
      margin-bottom: 1em;
      }
      .icon {
        margin-right: 5%;
        text-align: center;
        float: left;
        width: 16px;
      }
      #calendar > table:nth-child(1) {
        margin-left: 10px;
        box-sizing: border-box;
        border-spacing: 0;
        margin-bottom: 1.25em;
        width: 100%;
      }
      td {
        white-space: -o-pre-wrap; 
        word-wrap: break-word;
        white-space: pre-wrap; 
        white-space: -moz-pre-wrap; 
        white-space: -pre-wrap; 
      }
      .date {
        border-right: 2px solid #dc4225;
        width: 20%;
        text-align: center;
      }
      .event, .task {
        padding-left: 10px;
        width: 80%;
      }
      .month {
        text-transform: uppercase;
        vertical-align: bottom;
      }
      .day {
        font-size: 1.8em;
        vertical-align: top;
      }
      .event-title {
        color: rgba(255, 255, 255, 0.82);
        margin-top: 0;
        font-size: 1.1em;
        font-weight: 400;
        text-align: left;
        font-family: 'SF UI Text Semibold';
        vertical-align: top;
        word-wrap: break-word;
        overflow-wrap: break-word;
      }
      .time, .location {
        display: block;
        text-align: left;
        font-size: 0.9em;
        padding-top: 5px;
        font-family: SF UI Text Regular;
      }
      .time {
        padding-bottom: 1em;
      }
      .task-icon {
        width: 30px;
        border-radius: 0;
        margin-bottom: 0;
      }
  # styles:
    # card:
      # - background-color: rgba(0, 0, 0, 0.0)
      # - color: rgba(255, 255, 255, 0.82)
      # - margin-top: 1em
    # grid:
      # - grid-template-areas: '"person" "calendar"' 
      # - grid-template-columns: 1fr
      # - grid-template-rows: 1fr min-content
    # person:
      # - align-self: middle
  
  card:
    type: grid
    columns: 1
    square: false
    cards:
      # - type: custom:button-card
        # name: Anarion
        # show_icon: false 
        # show_name: false
        # custom_fields:
          # #person: '[[[ return `<img src="/local/anarion.png"/>` ]]]'
          # calendar: >
            # [[[
            # let calSnippet = '';     
                  # let start_month = states["calendar.garbage_collection"].attributes.start_month;
                  # let start_day = states["calendar.garbage_collection"].attributes.start_day;
                  # let start_time = states["calendar.garbage_collection"].attributes.start_time;
                  # let end_month = states["calendar.garbage_collection"].attributes.end_month;
                  # let end_day = states["calendar.garbage_collection"].attributes.end_day;
                  # let end_time = states["calendar.garbage_collection"].attributes.end_time;
                  # let time = start_time;
                  # if (start_day !== end_day) {time = "meerdaags, tot " + end_day + " " + end_month};
                  # if (end_day === start_day +1 && start_time === end_time) {time = "ganse dag"};
                  # let event = states["calendar.garbage_collection"].attributes.message;
                  # let location = states["calendar.garbage_collection"].attributes.location;
                  # if (location === "" || location === undefined) {location = "-"}
                # calSnippet += 
                  # `<table><tr>
                     # <td class="date month">${start_time}</td><td class="event"><div class="event-title">${event}</div></td>
                   # </tr>
                   # <tr>
                     # <td class="date day">${start_time}</td><td class="event"><span class="location"><ha-icon class="icon" icon="mdi:map-marker"></ha-icon>${location}</span><span class="time"><ha-icon class="icon" icon="mdi:clock-outline"></ha-icon>${time}</span></td>
                   # </tr></table>`
              # return calSnippet;
            # ]]]
      # - type: calendar
        # entities:
          # - calendar.anarion_dunedain
          # - calendar.holidays_in_poland
          # - calendar.iwona_migalska_gmail_com
        # initial_view: dayGridMonth
      - type: custom:atomic-calendar-revive
        name: Calendar Card
        entities:
          - entity: calendar.anarion_dunedain
            titleColor: red
          - entity: calendar.iwona_migalska_gmail_com
            titleColor: blue
          - entity: calendar.holidays_in_poland
            titleColor: tellow
        enableModeChange: true
        firstDayOfWeek: 1
        showDate: true
        sortByStartTime: false
        showCurrentEventLine: false
        showProgressBar: true
        showMonth: false
        showWeekDay: true
        showDescription: true
        disableLocationLink: false
        showNoEventsForToday: false
        showFullDayProgress: false
        showEventIcon: false
        maxDaysToShow: 60